import{c as Pt,a as y,t as A,b as it}from"../chunks/WcQBXPXw.js";import"../chunks/DPzYpny_.js";import{h as Ce,aw as pa,ax as ga,ay as _a,az as ma,aA as ba,o as zt,_ as ha,aB as xa,aC as wa,$ as Tt,R as Xt,aD as ya,aE as ka,aF as ja,aG as Pa,q as Ta,Q as Re,aa as Rt,ab as Vt,ac as Ca,aH as Da,a0 as Ea,aI as Ma,L as Qe,U as Ct,a9 as de,N as Xe,a2 as f,a7 as O,J as n,O as d,K as l,M as se,d as i,aJ as Ue,ar as Aa}from"../chunks/Dhtpitqt.js";import{a as La,b as Sa,w as Na,l as Yt,d as lt,p as Ia,i as $,s as G,c as nt,e as xe,f as Te}from"../chunks/Bk8IDjVl.js";import{e as Se,i as Oa}from"../chunks/BO3xXOzF.js";import{w as we,d as Dt,g as ht,o as Fa}from"../chunks/Drywk7Hn.js";const Ut=[...` 	
\r\f¬†\v\uFEFF`];function Ba(e,t,a){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),a){for(var o in a)if(a[o])r=r?r+" "+o:o;else if(r.length)for(var s=o.length,c=0;(c=r.indexOf(o,c))>=0;){var g=c+s;(c===0||Ut.includes(r[c-1]))&&(g===r.length||Ut.includes(r[g]))?r=(c===0?"":r.substring(0,c))+r.substring(g+1):c=g}}return r===""?null:r}function $a(e,t){return e==null?null:String(e)}function W(e,t,a,r,o,s){var c=e.__className;if(Ce||c!==a||c===void 0){var g=Ba(a,r,s);(!Ce||g!==e.getAttribute("class"))&&(g==null?e.removeAttribute("class"):e.className=g),e.__className=a}else if(s&&o!==s)for(var k in s){var w=!!s[k];(o==null||w!==!!o[k])&&e.classList.toggle(k,w)}return s}function Zt(e,t,a,r){var o=e.__style;if(Ce||o!==t){var s=$a(t);(!Ce||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=t}return r}const Ha=Symbol("is custom element"),za=Symbol("is html");function Ge(e){if(Ce){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;yt(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var o=e.checked;yt(e,"checked",null),e.checked=o}}};e.__on_r=a,pa(a),La()}}function yt(e,t,a,r){var o=Ra(e);Ce&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=a)&&(t==="loading"&&(e[ga]=a),a==null?e.removeAttribute(t):typeof a!="string"&&Va(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function Ra(e){return e.__attributes??(e.__attributes={[Ha]:e.nodeName.includes("-"),[za]:e.namespaceURI===_a})}var Kt=new Map;function Va(e){var t=Kt.get(e.nodeName);if(t)return t;Kt.set(e.nodeName,t=[]);for(var a,r=e,o=Element.prototype;o!==r;){a=ba(r);for(var s in a)a[s].set&&t.push(s);r=ma(r)}return t}const Ua=()=>performance.now(),pe={tick:e=>requestAnimationFrame(e),now:()=>Ua(),tasks:new Set};function ea(){const e=pe.now();pe.tasks.forEach(t=>{t.c(e)||(pe.tasks.delete(t),t.f())}),pe.tasks.size!==0&&pe.tick(ea)}function Ka(e){let t;return pe.tasks.size===0&&pe.tick(ea),{promise:new Promise(a=>{pe.tasks.add(t={c:e,f:a})}),abort(){pe.tasks.delete(t)}}}function rt(e,t){Na(()=>{e.dispatchEvent(new CustomEvent(t))})}function qa(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function qt(e){const t={},a=e.split(";");for(const r of a){const[o,s]=r.split(":");if(!o||s===void 0)break;const c=qa(o.trim());t[c]=s.trim()}return t}const Ga=e=>e;function Gt(e,t,a,r){var o=(e&ka)!==0,s=(e&ja)!==0,c=o&&s,g=(e&ya)!==0,k=c?"both":o?"in":"out",w,h=t.inert,D=t.style.overflow,v,u;function _(){var E=Ca,H=zt;Rt(null),Vt(null);try{return w??(w=a()(t,(r==null?void 0:r())??{},{direction:k}))}finally{Rt(E),Vt(H)}}var b={is_global:g,in(){var E;if(t.inert=h,!o){u==null||u.abort(),(E=u==null?void 0:u.reset)==null||E.call(u);return}s||v==null||v.abort(),rt(t,"introstart"),v=kt(t,_(),u,1,()=>{rt(t,"introend"),v==null||v.abort(),v=w=void 0,t.style.overflow=D})},out(E){if(!s){E==null||E(),w=void 0;return}t.inert=!0,rt(t,"outrostart"),u=kt(t,_(),v,0,()=>{rt(t,"outroend"),E==null||E()})},stop:()=>{v==null||v.abort(),u==null||u.abort()}},j=zt;if((j.transitions??(j.transitions=[])).push(b),o&&Sa){var N=g;if(!N){for(var L=j.parent;L&&(L.f&ha)!==0;)for(;(L=L.parent)&&(L.f&xa)===0;);N=!L||(L.f&wa)!==0}N&&Tt(()=>{Xt(()=>b.in())})}}function kt(e,t,a,r,o){var s=r===1;if(Pa(t)){var c,g=!1;return Ta(()=>{if(!g){var j=t({direction:s?"in":"out"});c=kt(e,j,a,r,o)}}),{abort:()=>{g=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration))return o(),{abort:Re,deactivate:Re,reset:Re,t:()=>r};const{delay:k=0,css:w,tick:h,easing:D=Ga}=t;var v=[];if(s&&a===void 0&&(h&&h(0,1),w)){var u=qt(w(0,1));v.push(u,u)}var _=()=>1-r,b=e.animate(v,{duration:k});return b.onfinish=()=>{var j=(a==null?void 0:a.t())??1-r;a==null||a.abort();var N=r-j,L=t.duration*Math.abs(N),E=[];if(L>0){var H=!1;if(w)for(var z=Math.ceil(L/16.666666666666668),m=0;m<=z;m+=1){var M=j+N*D(m/z),J=qt(w(M,1-M));E.push(J),H||(H=J.overflow==="hidden")}H&&(e.style.overflow="hidden"),_=()=>{var K=b.currentTime;return j+N*D(K/L)},h&&Ka(()=>{if(b.playState!=="running")return!1;var K=_();return h(K,1-K),!0})}b=e.animate(E,{duration:L,fill:"forwards"}),b.onfinish=()=>{_=()=>r,h==null||h(r,1-r),o()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=Re)},deactivate:()=>{o=Re},reset:()=>{r===0&&(h==null||h(1,0))},t:()=>_()}}function We(e,t,a=t){var r=Da();Yt(e,"input",o=>{var s=o?e.defaultValue:e.value;if(s=xt(e)?wt(s):s,a(s),r&&s!==(s=t())){var c=e.selectionStart,g=e.selectionEnd;e.value=s??"",g!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(g,e.value.length))}}),(Ce&&e.defaultValue!==e.value||Xt(t)==null&&e.value)&&a(xt(e)?wt(e.value):e.value),Ea(()=>{var o=t();xt(e)&&o===wt(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function xt(e){var t=e.type;return t==="number"||t==="range"}function wt(e){return e===""?null:+e}function ta(e,t,a){if(e.multiple)return Ja(e,t);for(var r of e.options){var o=Je(r);if(Ma(o,t)){r.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function Wa(e,t){Tt(()=>{var a=new MutationObserver(()=>{var r=e.__value;ta(e,r)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function ot(e,t,a=t){var r=!0;Yt(e,"change",o=>{var s=o?"[selected]":":checked",c;if(e.multiple)c=[].map.call(e.querySelectorAll(s),Je);else{var g=e.querySelector(s)??e.querySelector("option:not([disabled])");c=g&&Je(g)}a(c)}),Tt(()=>{var o=t();if(ta(e,o,r),r&&o===void 0){var s=e.querySelector(":checked");s!==null&&(o=Je(s),a(o))}e.__value=o,r=!1}),Wa(e)}function Ja(e,t){for(var a of e.options)a.selected=~t.indexOf(Je(a))}function Je(e){return"__value"in e?e.__value:e.value}const Qa=[{id:1,title:"Kanbanomaly",status:"active",start_date:new Date("2025-08-02"),end_date:new Date("2026-08-15")},{id:2,title:"Marketing Plan",status:"active",start_date:new Date("2025-08-05"),end_date:new Date("2027-08-20")},{id:3,title:"Website Launch",status:"ended",start_date:new Date("2025-08-10"),end_date:new Date("2025-08-25")},{id:4,title:"Home Renovation",status:"inactive",start_date:null,end_date:null},{id:5,title:"Family Vacation",status:"ended",start_date:new Date("2026-08-15"),end_date:new Date("2026-08-22")},{id:6,title:"Wedding Planning",status:"active",start_date:new Date("2025-08-18"),end_date:new Date("2027-09-05")}],Xa=[{id:1,title:"Design UI",status:"done",level:"high",project_id:1},{id:2,title:"Write documentation",status:"todo",level:"low",project_id:1},{id:3,title:"Implement feature X",status:"doing",level:"medium",project_id:1},{id:4,title:"Deploy to production",status:"todo",level:"critical",project_id:1},{id:5,title:"Setup Docker environment",status:"done",level:"high",project_id:1},{id:6,title:"Create unit tests",status:"doing",level:"medium",project_id:1},{id:7,title:"Fix mobile responsiveness",status:"todo",level:"high",project_id:1},{id:8,title:"Analyze target audience",status:"done",level:"high",project_id:2},{id:9,title:"Create content calendar",status:"doing",level:"medium",project_id:2},{id:10,title:"Design social media posts",status:"todo",level:"medium",project_id:2},{id:11,title:"Launch email campaign",status:"todo",level:"high",project_id:2},{id:12,title:"Setup Google Analytics",status:"done",level:"low",project_id:2},{id:13,title:"Domain registration",status:"done",level:"critical",project_id:3},{id:14,title:"SSL certificate setup",status:"done",level:"high",project_id:3},{id:15,title:"Content migration",status:"done",level:"medium",project_id:3},{id:16,title:"SEO optimization",status:"done",level:"medium",project_id:3},{id:17,title:"Paint living room",status:"todo",level:"high",project_id:4},{id:18,title:"Install new flooring",status:"todo",level:"medium",project_id:4},{id:19,title:"Update kitchen cabinets",status:"todo",level:"low",project_id:4},{id:20,title:"Bathroom renovation",status:"todo",level:"critical",project_id:4},{id:21,title:"Book flights",status:"done",level:"critical",project_id:5},{id:22,title:"Reserve hotel",status:"done",level:"high",project_id:5},{id:23,title:"Plan itinerary",status:"done",level:"medium",project_id:5},{id:24,title:"Pack luggage",status:"done",level:"low",project_id:5},{id:25,title:"Book venue",status:"done",level:"critical",project_id:6},{id:26,title:"Send invitations",status:"doing",level:"high",project_id:6},{id:27,title:"Choose flowers",status:"todo",level:"medium",project_id:6},{id:28,title:"Order wedding cake",status:"todo",level:"medium",project_id:6},{id:29,title:"Hire photographer",status:"doing",level:"high",project_id:6},{id:30,title:"Plan honeymoon",status:"todo",level:"low",project_id:6}];let he=[...Qa],fe=[...Xa],Ya=7,Za=31;const er={async getAll(){return[...he]},async getById(e){return he.find(t=>t.id===e)||null},async create(e){const t={...e,id:Ya++};return he.push(t),t},async update(e,t){const a=he.findIndex(r=>r.id===e);a!==-1&&(he[a]={...he[a],...t})},async delete(e){he=he.filter(t=>t.id!==e),fe=fe.filter(t=>t.project_id!==e)}},tr={async getByProject(e){return fe.filter(t=>t.project_id===e)},async create(e){const t={...e,id:Za++};return fe.push(t),t},async update(e,t){const a=fe.findIndex(r=>r.id===e);a!==-1&&(fe[a]={...fe[a],...t})},async delete(e){fe=fe.filter(t=>t.id!==e)},async updatedAt(e){}},Ae=er,ce=tr,Ne=we([]),Le=new Map,ar={subscribe:Ne.subscribe,set:Ne.set,update:Ne.update},C={show(e){const t=crypto.randomUUID(),a={id:t,message:e.message,type:e.type,duration:e.duration??3e3};return Ne.update(r=>[...r,a]),Le.set(t,setTimeout(()=>this.remove(t),a.duration)),t},remove(e){const t=Le.get(e);t&&(clearTimeout(t),Le.delete(e)),Ne.update(a=>a.filter(r=>r.id!==e))},success(e,t){return this.show({message:e,type:"success",duration:t??3e3})},error(e,t){return this.show({message:e,type:"error",duration:t??3e3})},info(e,t){return this.show({message:e,type:"info",duration:t??3e3})},warning(e,t){return this.show({message:e,type:"warning",duration:t??3e3})},pause(e){const t=Le.get(e);t&&(clearTimeout(t),Le.delete(e))},resume(e,t){const a=setTimeout(()=>this.remove(e),t);Le.set(e,a)},confirm(e){return new Promise(t=>{const a=crypto.randomUUID(),r={id:a,message:e,type:"info",duration:0,isConfirm:!0,onConfirm:()=>{t(!0),this.remove(a)},onCancel:()=>{t(!1),this.remove(a)}};Ne.update(o=>[...o,r])})}},ae=we([]),ue=we(!1),Wt=we(null),rr={subscribe:ue.subscribe},ir=Dt(ae,e=>{const t={todo:[],doing:[],done:[]};return e.forEach(a=>{const r={id:a.id,title:a.title,status:a.status,level:a.level};t[a.status].push(r)}),t}),Ve={async loadForProject(e){if(!e){ae.set([]),Wt.set(null);return}ue.set(!0);try{const t=await ce.getByProject(e);ae.set(t),Wt.set(e)}catch{C.warning("Failed to load tasks for project"),ae.set([])}finally{ue.set(!1)}},async create(e){ue.set(!0);try{const t=await ce.create(e);return await ce.updatedAt(e.project_id),ae.update(a=>[...a,t]),t}catch{return C.warning("Failed to create task"),null}finally{ue.set(!1)}},async update(e,t){ue.set(!0);const a=ht(ae).find(o=>o.id===e),r=a==null?void 0:a.project_id;try{await ce.update(e,t),await ce.updatedAt(r||0),ae.update(o=>o.map(s=>s.id===e?{...s,...t}:s))}catch{return C.warning("Failed to update task"),null}finally{ue.set(!1)}},async delete(e){ue.set(!0);const t=ht(ae).find(r=>r.id===e),a=t==null?void 0:t.project_id;try{await ce.delete(e),await ce.updatedAt(a||0),ae.update(r=>r.filter(o=>o.id!==e))}catch{return C.warning("Failed to delete task"),null}finally{ue.set(!1)}},async move(e,t,a){if(t===a)return;const r=ht(ae).find(s=>s.id===e),o=r==null?void 0:r.project_id;try{ae.update(s=>s.map(c=>c.id===e?{...c,status:a}:c)),await ce.update(e,{status:a}),await ce.updatedAt(o||0)}catch{C.warning("Failed to move task"),ae.update(s=>s.map(c=>c.id===e?{...c,status:t}:c))}}},Ke=we([]),jt=we(null),qe=we(null),ve=we(!1);ve.subscribe;const or=Dt(Ke,e=>e.map(t=>({id:t.id,title:t.title,status:t.status}))),sr=Dt(qe,e=>e?{id:e.id,title:e.title,status:e.status,start_date:e.start_date,end_date:e.end_date}:null),st={subscribe:jt.subscribe},oe={async getById(e){try{const t=await Ae.getById(e);return t?{id:t.id,title:t.title,status:t.status,start_date:t.start_date,end_date:t.end_date}:null}catch{return C.warning("Failed to load project details"),null}},async loadAll(){ve.set(!0);try{const e=await Ae.getAll();Ke.set(e)}catch{C.error("Failed to load projects"),Ke.set([])}finally{ve.set(!1)}},async select(e){if(jt.set(e),!e){qe.set(null);return}try{const t=await Ae.getById(e);qe.set(t)}catch{C.warning("Failed to load project details"),qe.set(null)}},async create(e){ve.set(!0);try{const t=await Ae.create(e);return Ke.update(a=>[...a,t]),t}catch{return C.warning("Failed to create project"),null}finally{ve.set(!1)}},async update(e,t){ve.set(!0);try{await Ae.update(e,t)}catch{return C.warning("Failed to update project"),null}finally{ve.set(!1)}},async delete(e){ve.set(!0);try{await Ae.delete(e),Ke.update(t=>t.filter(a=>a.id!==e)),jt.update(t=>t===e?null:t),qe.update(t=>(t==null?void 0:t.id)===e?null:t)}catch{return C.error("Failed to delete project"),null}finally{ve.set(!1)}}};async function lr(e,t,a,r,o,s,c){var g;if(!i(t).trim()||!i(a)){C.warning("Please enter a project name and choose a status");return}try{const k={title:i(t),status:i(a),start_date:i(r)?new Date(i(r)).toISOString():null,end_date:i(o)?new Date(i(o)).toISOString():null};(g=s.onProjectCreated)==null||g.call(s,k),C.success(c()?`Project ${i(t)} updated successfully`:`Project ${i(t)} created successfully`)}catch{C.error("Failed to prepare project data")}}function nr(e,t,a){var r;t(),(r=a.onClose)==null||r.call(a)}var dr=A('<div class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 animate-fade-in"><div class="bg-slate-800 rounded-xl p-8 w-full max-w-md border border-purple-500/30 relative overflow-hidden animate-scale-in"><div class="bg-gradient-to-br from-purple-600/10 to-transparent"></div> <div class="relative z-10"><div class="flex items-center gap-3 mb-6"><div class="w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></div> <h3 class="text-xl font-bold text-white"> </h3></div> <div class="space-y-5"><div><label for="project-title" class="block text-sm font-medium text-slate-300 mb-2">Project Title</label> <input id="project-title" placeholder="Enter project name" class="p-3 bg-slate-700 border border-purple-400/30 rounded-lg w-full text-white placeholder-slate-400 focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20 transition-all duration-200"></div> <label for="project-status" class="block text-sm font-medium text-slate-300 mb-2">Project Status</label> <select class="p-3 bg-slate-700/60 border border-purple-400/30 rounded-lg text-white focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20 transition-all"><option selected>Active</option><option>Inactive</option><option>Ended</option></select> <div class="grid grid-cols-2 gap-4"><div><label for="start-date" class="block text-sm font-medium text-slate-300 mb-2">Start Date</label> <input id="start-date" type="date" class="p-3 bg-slate-700 border border-purple-400/30 rounded-lg w-full text-white focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20 transition-all duration-200"></div> <div><label for="end-date" class="block text-sm font-medium text-slate-300 mb-2">End Date</label> <input id="end-date" type="date" class="p-3 bg-slate-700 border border-purple-400/30 rounded-lg w-full text-white focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20 transition-all duration-200"></div></div> <div class="flex justify-end gap-3 pt-6"><button class="px-6 py-3 border border-slate-600 text-slate-300 rounded-lg hover:bg-slate-700 hover:border-slate-500 transition-all duration-150">Cancel</button> <button class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-500 hover:to-pink-500 transition-all duration-200 font-medium"> </button></div></div></div></div></div>');function cr(e,t){Qe(t,!0);let a=Ia(t,"projectEdit",3,null),r=O(""),o=O(""),s=O(""),c=O("");Ct(()=>{a()?(f(r,a().title,!0),f(o,a().status,!0),f(s,a().start_date?a().start_date.slice(0,10):"",!0),f(c,a().end_date?a().end_date.slice(0,10):"",!0)):(f(r,""),f(o,""),f(s,""),f(c,""))});function g(){f(r,""),f(o,""),f(s,""),f(c,"")}var k=Pt(),w=de(k);{var h=D=>{var v=dr(),u=n(v),_=d(n(u),2),b=n(_),j=d(n(b),2),N=n(j,!0);l(j),l(b);var L=d(b,2),E=n(L),H=d(n(E),2);Ge(H),l(E);var z=d(E,4),m=n(z);m.value=m.__value="active";var M=d(m);M.value=M.__value="inactive";var J=d(M);J.value=J.__value="ended",l(z);var K=d(z,2),Q=n(K),I=d(n(Q),2);Ge(I),l(Q);var B=d(Q,2),R=d(n(B),2);Ge(R),l(B),l(K);var S=d(K,2),p=n(S);p.__click=[nr,g,t];var P=d(p,2);P.__click=[lr,r,o,s,c,t,a];var T=n(P,!0);l(P),l(S),l(L),l(_),l(u),l(v),se(()=>{G(N,a()?"Edit Project":"Create New Project"),G(T,a()?"Save Changes":"Create Project")}),We(H,()=>i(r),x=>f(r,x)),ot(z,()=>i(o),x=>f(o,x)),We(I,()=>i(s),x=>f(s,x)),We(R,()=>i(c),x=>f(c,x)),y(D,v)};$(w,D=>{t.isOpen&&D(h)})}y(e,k),Xe()}lt(["click"]);function ur(e,t,a){f(t,null),f(a,!0)}var vr=(e,t,a)=>t(i(a).id),fr=(e,t,a)=>{e.stopPropagation(),t(i(a))},pr=(e,t,a)=>{e.stopPropagation(),t(i(a).id)},gr=A('<li class="group relative custom scrollbar"><div class="flex rounded-lg overflow-hidden"><button type="button"><div class="flex items-center gap-2"><div></div> <span style="max-width: 120px;"> </span></div></button> <div class="hidden group-hover:flex items-center bg-slate-700/80 transition-opacity duration-150"><button class="text-cyan-300 p-2 hover:text-cyan-200 hover:bg-slate-600/50 transition-all duration-150" title="Edit project" aria-label="Edit project"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button> <button class="text-red-300 p-2 hover:text-red-200 hover:bg-slate-600/50 transition-all duration-150" title="Delete project" aria-label="Delete project"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></li>'),_r=A('<li class="text-xs text-emerald-400 font-semibold mt-3 mb-2 px-1">Active</li> <!>',1),mr=(e,t,a)=>t(i(a).id),br=(e,t,a)=>{e.stopPropagation(),t(i(a))},hr=(e,t,a)=>{e.stopPropagation(),t(i(a).id)},xr=A('<li class="group relative custom scrollbar"><div class="flex rounded-lg overflow-hidden"><button type="button"><div class="flex items-center gap-2"><div></div> <span style="max-width: 120px;"> </span></div></button> <div class="hidden group-hover:flex items-center bg-slate-700/80 transition-opacity duration-150"><button class="text-cyan-300 p-2 hover:text-cyan-200 hover:bg-slate-600/50 transition-all duration-150" title="Edit project" aria-label="Edit project"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button> <button class="text-red-300 p-2 hover:text-red-200 hover:bg-slate-600/50 transition-all duration-150" title="Delete project" aria-label="Delete project"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></li>'),wr=A('<li class="text-xs text-amber-400 font-semibold mt-3 mb-2 px-1">Inactive</li> <!>',1),yr=(e,t,a)=>t(i(a).id),kr=(e,t,a)=>{e.stopPropagation(),t(i(a))},jr=(e,t,a)=>{e.stopPropagation(),t(i(a).id)},Pr=A('<li class="group relative custom scrollbar"><div class="flex rounded-lg overflow-hidden"><button type="button"><div class="flex items-center gap-2"><div></div> <span style="max-width: 120px;"> </span></div></button> <div class="hidden group-hover:flex items-center bg-slate-700/80 transition-opacity duration-150"><button class="text-slate-300 p-2 hover:text-slate-200 hover:bg-slate-600/50 transition-all duration-150" title="Edit project" aria-label="Edit project"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button> <button class="text-red-300 p-2 hover:text-red-200 hover:bg-slate-600/50 transition-all duration-150" title="Delete project" aria-label="Delete project"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></li>'),Tr=A('<li class="text-xs text-slate-400 font-semibold mt-3 mb-2 px-1">Ended</li> <!>',1),Cr=A('<ul class="space-y-1"><!> <!> <!></ul>'),Dr=A('<div class="text-slate-400 text-sm text-center py-8"><svg class="w-8 h-8 mx-auto mb-2 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <span>No projects detected</span></div>'),Er=A('<div class="w-64 bg-slate-800/90 p-4 flex flex-col relative"><div class="mb-6 text-center"><h1 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 mb-2 tracking-wide">Kanbanomaly</h1> <div class="w-full h-px bg-gradient-to-r from-transparent via-purple-500 to-transparent"></div></div> <div class="mb-4"><button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-3 rounded-lg hover:from-purple-500 hover:to-pink-500 transition-colors duration-200 font-medium"><span class="flex items-center justify-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> Create New Project</span></button></div> <div class="border-b border-purple-500/30 mb-4"></div> <div class="flex-1 z-10 overflow-y-auto overflow-x-hidden custom-scrollbar"><h3 class="text-xs font-semibold mb-3 uppercase tracking-wider">Projects</h3> <!></div> <div class="mt-4 pt-4 border-t border-purple-500/30"><div class="flex items-center justify-center gap-2 text-xs text-slate-400"><span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 font-medium">üíª Made by Mi1y</span></div></div></div> <!>',1);function Mr(e,t){Qe(t,!0);const[a,r]=nt(),o=()=>xe(st,"$selectedProjectId",a),s=()=>xe(or,"$projectList",a);let c=O(!1),g=O(null);function k(m){oe.select(m)}async function w(m){const M=await oe.getById(m.id);f(g,M,!0),f(c,!0)}function h(){f(c,!1),f(g,null)}async function D(m){if(i(g)){const M={title:m.title,status:m.status,start_date:m.start_date,end_date:m.end_date};await oe.update(i(g).id,M)}else{const M={title:m.title,status:m.status,start_date:m.start_date,end_date:m.end_date};await oe.create(M)}oe.loadAll(),h()}async function v(m){if(await C.confirm("Are you sure you want to delete this project?"))try{await oe.delete(m),o()===m&&oe.select(null),C.success("Project deleted successfully")}catch{C.error("Failed to delete project")}}Fa(()=>{oe.loadAll()});var u=Er(),_=de(u),b=d(n(_),2),j=n(b);j.__click=[ur,g,c],l(b);var N=d(b,4),L=d(n(N),2);{var E=m=>{var M=Cr(),J=n(M);{var K=S=>{var p=_r(),P=d(de(p),2);Se(P,1,()=>s().filter(T=>T.status==="active"),T=>T.id,(T,x)=>{var V=gr(),ee=n(V),F=n(ee);F.__click=[vr,k,x];var re=n(F),le=n(re),ne=d(le,2),ye=n(ne,!0);l(ne),l(re),l(F);var ie=d(F,2),te=n(ie);te.__click=[fr,w,x];var ge=d(te,2);ge.__click=[pr,v,x],l(ie),l(ee),l(V),se(()=>{W(F,1,`flex-1 text-left px-1 py-2 transition-all duration-150 ${o()===i(x).id?"bg-gradient-to-r from-emerald-600/70 to-cyan-600/70 text-white font-medium shadow-lg":"text-slate-200 hover:bg-slate-700/80 hover:text-white"}`),W(le,1,`w-2 h-2 rounded-full ${o()===i(x).id?"bg-white shadow-sm":"bg-emerald-400"} opacity-80`),G(ye,i(x).title)}),y(T,V)}),y(S,p)};$(J,S=>{s().some(p=>p.status==="active")&&S(K)})}var Q=d(J,2);{var I=S=>{var p=wr(),P=d(de(p),2);Se(P,1,()=>s().filter(T=>T.status==="inactive"),T=>T.id,(T,x)=>{var V=xr(),ee=n(V),F=n(ee);F.__click=[mr,k,x];var re=n(F),le=n(re),ne=d(le,2),ye=n(ne,!0);l(ne),l(re),l(F);var ie=d(F,2),te=n(ie);te.__click=[br,w,x];var ge=d(te,2);ge.__click=[hr,v,x],l(ie),l(ee),l(V),se(()=>{W(F,1,`flex-1 text-left px-1 py-2 transition-all duration-150 ${o()===i(x).id?"bg-gradient-to-r from-amber-600/70 to-orange-600/70 text-white font-medium shadow-lg":"text-slate-300 hover:bg-slate-700/80 hover:text-slate-100"}`),W(le,1,`w-2 h-2 rounded-full ${o()===i(x).id?"bg-white shadow-sm":"bg-amber-400"} opacity-80`),G(ye,i(x).title)}),y(T,V)}),y(S,p)};$(Q,S=>{s().some(p=>p.status==="inactive")&&S(I)})}var B=d(Q,2);{var R=S=>{var p=Tr(),P=d(de(p),2);Se(P,1,()=>s().filter(T=>T.status==="ended"),T=>T.id,(T,x)=>{var V=Pr(),ee=n(V),F=n(ee);F.__click=[yr,k,x];var re=n(F),le=n(re),ne=d(le,2),ye=n(ne,!0);l(ne),l(re),l(F);var ie=d(F,2),te=n(ie);te.__click=[kr,w,x];var ge=d(te,2);ge.__click=[jr,v,x],l(ie),l(ee),l(V),se(()=>{W(F,1,`flex-1 text-left px-1 py-2 transition-all duration-150 ${o()===i(x).id?"bg-gradient-to-r from-slate-600/70 to-slate-500/70 text-white font-medium shadow-lg":"text-slate-400 hover:bg-slate-700/60 hover:text-slate-200"}`),W(le,1,`w-2 h-2 rounded-full ${o()===i(x).id?"bg-white shadow-sm":"bg-slate-500"} opacity-70`),G(ye,i(x).title)}),y(T,V)}),y(S,p)};$(B,S=>{s().some(p=>p.status==="ended")&&S(R)})}l(M),y(m,M)},H=m=>{var M=Dr();y(m,M)};$(L,m=>{s().length>0?m(E):m(H,!1)})}l(N),Ue(2),l(_);var z=d(_,2);cr(z,{onProjectCreated:D,onClose:h,get projectEdit(){return i(g)},get isOpen(){return i(c)},set isOpen(m){f(c,m,!0)}}),y(e,u),Xe(),r()}lt(["click"]);var Ar=A('<span class="text-red-400 animate-pulse">üëª</span>'),Lr=A('<div class="bg-slate-800/60 rounded-xl p-8 border border-purple-500/20 relative overflow-hidden"><div class="relative"><div class="flex items-center justify-center gap-3 mb-6"><div></div> <h1 class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 tracking-wide">DEADLINE TRACKER</h1></div> <div class="relative mx-auto w-full max-w-2xl h-12 bg-slate-700/70 rounded-full border border-slate-600/50 shadow-lg overflow-hidden" style="box-shadow: inset 0 2px 4px rgba(0,0,0,0.3), inset 0 -1px 2px rgba(255,255,255,0.05);"><div><div class="absolute top-0 left-0 right-0 h-2 bg-gradient-to-b from-white/15 to-transparent rounded-full"></div></div> <div class="absolute top-1/2 right-3 transform -translate-y-1/2 text-2xl"><!></div></div> <div class="mt-6 text-center"><div class="grid grid-cols-3 gap-4 max-w-md mx-auto"><div class="bg-slate-700/50 rounded-lg p-3 border border-slate-600/50"><div class="text-2xl font-bold text-white font-mono"> </div> <div class="text-xs text-slate-400 uppercase tracking-wider">Days</div></div> <div class="bg-slate-700/50 rounded-lg p-3 border border-slate-600/50"><div class="text-2xl font-bold text-white font-mono"> </div> <div class="text-xs text-slate-400 uppercase tracking-wider">Hours</div></div> <div class="bg-slate-700/50 rounded-lg p-3 border border-slate-600/50"><div class="text-2xl font-bold text-white font-mono"> </div> <div class="text-xs text-slate-400 uppercase tracking-wider">Minutes</div></div></div></div></div></div>');function Sr(e,t){Qe(t,!0);let a=O(0),r=O(0),o=O(0),s=O(0);function c(){const h=new Date,v=new Date(t.newProjectEndDate).getTime()-h.getTime();if(v<=0){f(a,f(r,f(o,0),!0),!0),f(s,100);return}const u=Math.floor(v/(1e3*60));f(a,Math.floor(u/(60*24)),!0),f(r,Math.floor(u%(60*24)/60),!0),f(o,u%60);const _=new Date(t.newProjectStartDate).getTime(),b=new Date(t.newProjectEndDate).getTime()-_,j=h.getTime()-_;f(s,Math.min(j/b*100,100),!0)}Ct(()=>{c();const h=setInterval(c,6e4);return()=>clearInterval(h)});var g=Pt(),k=de(g);{var w=h=>{var D=Lr(),v=n(D),u=n(v),_=n(u);Ue(2),l(u);var b=d(u,2),j=n(b),N=d(j,2),L=n(N);{var E=P=>{var T=it("üë®‚Äçüíª");y(P,T)},H=P=>{var T=Ar();y(P,T)};$(L,P=>{i(a)>0?P(E):P(H,!1)})}l(N),l(b);var z=d(b,2),m=n(z),M=n(m),J=n(M),K=n(J,!0);l(J),Ue(2),l(M);var Q=d(M,2),I=n(Q),B=n(I,!0);l(I),Ue(2),l(Q);var R=d(Q,2),S=n(R),p=n(S,!0);l(S),Ue(2),l(R),l(m),l(z),l(v),l(D),se(()=>{W(_,1,`w-3 h-3 rounded-full ${i(a)<=7?"bg-red-400":i(a)<=30?"bg-yellow-400":"bg-emerald-400"}`),W(j,1,`h-full transition-all duration-1000 ease-out rounded-full relative
            ${i(a)>0?"bg-gradient-to-r from-emerald-500 to-cyan-500":i(s)>80?"bg-gradient-to-r from-red-500 to-red-600":i(s)>60?"bg-gradient-to-r from-orange-500 to-red-500":"bg-gradient-to-r from-emerald-500 to-cyan-500"}`),Zt(j,`width: ${i(s)??""}%; 
                  box-shadow: 
                    0 1px 3px rgba(0,0,0,0.2),
                    inset 0 1px 0 rgba(255,255,255,0.2),
                    inset 0 -1px 0 rgba(0,0,0,0.1);
                border-radius: 9999px;`),G(K,i(a)),G(B,i(r)),G(p,i(o))}),y(h,D)};$(k,h=>{t.newProjectStartDate&&t.newProjectEndDate&&h(w)})}y(e,g),Xe()}var Nr=A('<div class="flex items-center justify-center py-8"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400"></div> <span class="ml-2 text-slate-400">Loading tasks...</span></div>'),Ir=(e,t)=>e.key==="Enter"&&t(),Or=A('<div class="flex-1 space-y-3"><input class="w-full p-2 bg-slate-700/60 border border-purple-400/30 rounded-lg text-white placeholder-slate-400 focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20"> <select class="w-full p-2 bg-slate-700/60 border border-purple-400/30 rounded-lg text-white focus:border-purple-400 focus:outline-none"><option>Low Priority</option><option>Medium Priority</option><option>High Priority</option><option>Critical</option></select></div> <div class="flex gap-1 ml-3"><button class="text-emerald-400 p-2 hover:text-emerald-300 hover:bg-emerald-400/10 rounded transition-all" title="Save changes" aria-label="Save task changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button> <button class="text-red-400 p-2 hover:text-red-300 hover:bg-red-400/10 rounded transition-all" title="Cancel" aria-label="Cancel task edit"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>',1),Fr=(e,t,a)=>t(i(a)),Br=(e,t,a)=>t(i(a).id),$r=A('<div class="flex-1 min-w-0"><div class="font-semibold mb-2"> </div> <div><div></div> </div></div> <div class="flex gap-1 flex-shrink-0 opacity-0 group-hover/task:opacity-100 transition-opacity"><button class="text-cyan-400 p-2 hover:text-cyan-300 hover:bg-cyan-400/10 rounded transition-all" title="Edit task" aria-label="Edit task"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button> <button class="text-red-400 p-2 hover:text-red-300 hover:bg-red-400/10 rounded transition-all" title="Delete task" aria-label="Delete task"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div>',1),Hr=A('<div draggable="true" role="button" tabindex="0"><div class="flex justify-between items-start"><!></div></div>'),zr=A('<div class="text-center py-12"><div class="w-12 h-12 mx-auto mb-3 bg-slate-700/50 rounded-full flex items-center justify-center"><svg class="w-6 h-6 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div> <p class="text-slate-500 text-sm italic">No anomalies detected</p></div>'),Rr=A('<div role="group"><div><div class="flex items-center justify-between"><h3 class="text-lg font-bold text-white uppercase tracking-wider flex items-center gap-2"><div></div> </h3> <div class="text-xs text-slate-400 bg-slate-700/50 px-2 py-1 rounded-full"> </div></div></div> <div class="p-4 min-h-96 space-y-3 overflow-y-auto max-h-[75vh] custom-scrollbar"><!> <!> <!></div></div>'),Vr=A('<div class="bg-slate-800 p-6 rounded-xl mb-6 border border-purple-500/20 overflow-hidden"><div class="bg-gradient-to-br from-purple-600/10"></div> <div class="relative"><div class="flex items-center gap-3 mb-4"><div class="w-3 h-3 bg-emerald-400 rounded-full"></div> <h2 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400"> </h2> <div class="text-xs text-slate-400 bg-slate-700/50 px-2 py-1 rounded-full"><!></div></div> <div class="grid grid-cols-2 gap-6 text-sm"><div class="flex items-center gap-3"><div class="text-slate-400 font-medium">Start date:</div> <div class="text-slate-300 bg-slate-700/50 px-3 py-1 rounded-lg"> </div></div> <div class="flex items-center gap-3"><div class="text-slate-400 font-medium">End date:</div> <div class="text-slate-300 bg-slate-700/50 px-3 py-1 rounded-lg"> </div></div></div></div></div> <div class="bg-slate-800/60 p-6 rounded-xl mb-6 border border-purple-500/20 relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-br from-cyan-600/5 via-transparent to-purple-600/5"></div> <div class="relative z-10"><div class="flex items-center gap-3 mb-4"><div class="w-8 h-8 bg-gradient-to-br from-cyan-500 to-purple-500 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></div> <h3 class="text-lg font-bold text-white">Deploy New Task</h3></div> <form><div class="flex gap-3 flex-wrap"><input placeholder="Enter task name" class="flex-1 min-w-64 p-3 bg-slate-700/60 border border-purple-400/30 rounded-lg text-white placeholder-slate-400 focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20 transition-all"> <select class="p-3 bg-slate-700/60 border border-purple-400/30 rounded-lg text-white focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20 transition-all"><option>TODO</option><option>IN PROGRESS</option><option>COMPLETED</option></select> <select class="appearance-none p-3 min-w-40 bg-slate-700/60 border border-purple-400/30 rounded-lg text-white focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20 transition-all"><option>Low</option><option>Medium</option><option>High</option><option>Critical</option></select> <button class="bg-gradient-to-r from-cyan-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-cyan-500 hover:to-purple-500 transition-all duration-300 transform hover:scale-105 font-medium" type="button">Deploy Task</button></div></form></div></div> <div class="grid grid-cols-1 md:grid-cols-3 gap-6"></div> <div class="mt-8"><!></div>',1),Ur=A('<div class="flex justify-center items-center h-64"><div class="text-center"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-400 mx-auto mb-4"></div> <p class="text-slate-400">Preparing project board...</p></div></div>');function Kr(e,t){Qe(t,!0);const[a,r]=nt(),o=()=>xe(st,"$selectedProjectId",a),s=()=>xe(sr,"$selectedProject",a),c=()=>xe(ir,"$taskColumns",a),g=()=>xe(rr,"$tasksLoading",a);let k=O(""),w=O("todo"),h=O("medium"),D=O(null),v=O(""),u=O("medium"),_=O(null),b=O(null),j=O(null);function N(p){return p?new Date(p).toLocaleDateString():""}async function L(){if(!i(k).trim()||!st){C.warning("Please enter a task name");return}try{const p={title:i(k),status:i(w),level:i(h),project_id:o()||0};await Ve.create(p),oe.loadAll(),C.success(`Task "${i(k)}" added successfully!`),f(k,"")}catch{C.error("Failed to add task")}}function E(p){f(D,p.id,!0),f(v,p.title,!0),f(u,p.level,!0)}async function H(){if(!i(D)||!i(v).trim()){z();return}try{await Ve.update(i(D),{title:i(v),level:i(u)}),f(D,null),f(v,""),f(u,"medium"),oe.loadAll(),C.success("Task updated successfully")}catch{C.error("Failed to update task")}}function z(){f(D,null),f(v,""),f(u,"medium")}async function m(p){if(await C.confirm("Are you sure you want to delete this task?"))try{await Ve.delete(p),oe.loadAll(),C.success("Task deleted successfully")}catch{C.error("Failed to delete task")}}function M(p,P){f(_,p,!0),f(b,P,!0)}function J(p){p.preventDefault()}async function K(p){if(i(_)&&i(b)&&i(b)!==p)try{await Ve.move(i(_),i(b),p)}catch{C.error("Failed to move task")}f(_,null),f(b,null)}function Q(p){p.currentTarget&&!p.currentTarget.contains(p.relatedTarget)&&f(j,null)}Ct(()=>{o()&&Ve.loadForProject(o())});var I=Pt(),B=de(I);{var R=p=>{var P=Vr(),T=de(P),x=d(n(T),2),V=n(x),ee=d(n(V),2),F=n(ee,!0);l(ee);var re=d(ee,2),le=n(re);{var ne=q=>{var _e=it("PROJECT ACTIVE");y(q,_e)},ye=(q,_e)=>{{var X=Y=>{var me=it("PROJECT INACTIVE");y(Y,me)},Ie=(Y,me)=>{{var et=ke=>{var tt=it("PROJECT ENDED");y(ke,tt)};$(Y,ke=>{s().status==="ended"&&ke(et)},me)}};$(q,Y=>{s().status==="inactive"?Y(X):Y(Ie,!1)},_e)}};$(le,q=>{s().status==="active"?q(ne):q(ye,!1)})}l(re),l(V);var ie=d(V,2),te=n(ie),ge=d(n(te),2),aa=n(ge,!0);l(ge),l(te);var Et=d(te,2),Mt=d(n(Et),2),ra=n(Mt,!0);l(Mt),l(Et),l(ie),l(x),l(T);var dt=d(T,2),At=d(n(dt),2),ct=d(n(At),2),Lt=n(ct),ut=n(Lt);Ge(ut);var Ye=d(ut,2),vt=n(Ye);vt.value=vt.__value="todo";var ft=d(vt);ft.value=ft.__value="doing";var St=d(ft);St.value=St.__value="done",l(Ye);var Ze=d(Ye,2),pt=n(Ze);pt.value=pt.__value="low";var gt=d(pt);gt.value=gt.__value="medium";var _t=d(gt);_t.value=_t.__value="high";var Nt=d(_t);Nt.value=Nt.__value="critical",l(Ze);var ia=d(Ze,2);ia.__click=L,l(Lt),l(ct),l(At),l(dt);var mt=d(dt,2);Se(mt,5,()=>Object.entries(c()),Oa,(q,_e)=>{let X=()=>i(_e)[0],Ie=()=>i(_e)[1];var Y=Rr(),me=n(Y),et=n(me),ke=n(et),tt=n(ke),sa=d(tt);l(ke);var Ot=d(ke,2),la=n(Ot,!0);l(Ot),l(et),l(me);var Ft=d(me,2),Bt=n(Ft);{var na=Z=>{var U=Nr();y(Z,U)};$(Bt,Z=>{g()&&Z(na)})}var $t=d(Bt,2);Se($t,17,Ie,Z=>Z.id,(Z,U)=>{var Oe=Hr(),Ht=n(Oe),ua=n(Ht);{var va=De=>{var Fe=Or(),je=de(Fe),be=n(je);Ge(be),be.__keydown=[Ir,H];var Be=d(be,2),Pe=n(Be);Pe.value=Pe.__value="low";var Ee=d(Pe);Ee.value=Ee.__value="medium";var $e=d(Ee);$e.value=$e.__value="high";var He=d($e);He.value=He.__value="critical",l(Be),l(je);var ze=d(je,2),at=n(ze);at.__click=H;var Me=d(at,2);Me.__click=z,l(ze),We(be,()=>i(v),bt=>f(v,bt)),ot(Be,()=>i(u),bt=>f(u,bt)),y(De,Fe)},fa=De=>{var Fe=$r(),je=de(Fe),be=n(je),Be=n(be,!0);l(be);var Pe=d(be,2),Ee=n(Pe),$e=d(Ee);l(Pe),l(je);var He=d(je,2),ze=n(He);ze.__click=[Fr,E,U];var at=d(ze,2);at.__click=[Br,m,U],l(He),se(Me=>{G(Be,i(U).title),W(Pe,1,`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full font-medium ${i(U).level==="low"?"bg-slate-600/50 text-slate-300":i(U).level==="medium"?"bg-blue-500/30 text-blue-200":i(U).level==="high"?"bg-orange-500/30 text-orange-200":"bg-red-500/30 text-red-200"}`),W(Ee,1,`w-1.5 h-1.5 rounded-full ${i(U).level==="low"?"bg-slate-400":i(U).level==="medium"?"bg-blue-400":i(U).level==="high"?"bg-orange-400":"bg-red-400"}`),G($e,` ${Me??""}`)},[()=>{var Me;return i(U).level==="critical"?"CRITICAL":((Me=i(U).level)==null?void 0:Me.toUpperCase())||"UNDEFINED"}]),y(De,Fe)};$(ua,De=>{i(D)===i(U).id?De(va):De(fa,!1)})}l(Ht),l(Oe),se(()=>W(Oe,1,`p-4 rounded-lg shadow-lg cursor-grab hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-slate-600/30 ${X()==="todo"?"bg-gradient-to-br from-yellow-500/10 to-orange-500/10 hover:from-yellow-500/20 hover:to-orange-500/20":X()==="doing"?"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 hover:from-blue-500/20 hover:to-cyan-500/20":"bg-gradient-to-br from-emerald-500/10 to-green-500/10 hover:from-emerald-500/20 hover:to-green-500/20"} group/task`)),Te("dragstart",Oe,()=>M(i(U).id,X())),y(Z,Oe)});var da=d($t,2);{var ca=Z=>{var U=zr();y(Z,U)};$(da,Z=>{Ie().length===0&&!g()&&Z(ca)})}l(Ft),l(Y),se(()=>{W(Y,1,`bg-slate-800/40 rounded-xl border border-slate-700/50 overflow-hidden relative group transition-all duration-200
        ${i(j)===X()?"ring-4 ring-cyan-400/40 border-cyan-400/60 shadow-xl scale-[1.02]":""}
      `),W(me,1,`p-4 border-b border-slate-700/50 bg-gradient-to-r ${X()==="todo"?"from-yellow-600/20 to-orange-600/20":X()==="doing"?"from-blue-600/20 to-cyan-600/20":"from-emerald-600/20 to-green-600/20"}`),W(tt,1,`w-3 h-3 rounded-full ${X()==="todo"?"bg-yellow-400":X()==="doing"?"bg-blue-400":"bg-emerald-400"}`),G(sa,` ${X()==="todo"?"TODO":X()==="doing"?"IN PROGRESS":"COMPLETED"}`),G(la,Ie().length)}),Te("dragover",Y,Z=>{J(Z),f(j,X(),!0)}),Te("dragleave",Y,Q),Te("drop",Y,()=>{K(X()),f(j,null)}),y(q,Y)}),l(mt);var It=d(mt,2),oa=n(It);Sr(oa,{get newProjectStartDate(){return s().start_date},get newProjectEndDate(){return s().end_date}}),l(It),se((q,_e)=>{G(F,s().title),G(aa,q),G(ra,_e)},[()=>N(s().start_date)||"Not configured",()=>N(s().end_date)||"Not configured"]),Te("submit",ct,L),We(ut,()=>i(k),q=>f(k,q)),ot(Ye,()=>i(w),q=>f(w,q)),ot(Ze,()=>i(h),q=>f(h,q)),y(p,P)},S=(p,P)=>{{var T=x=>{var V=Ur();y(x,V)};$(p,x=>{o()&&x(T)},P)}};$(B,p=>{s()?p(R):p(S,!1)})}y(e,I),Xe(),r()}lt(["click","keydown"]);var qr=A('<div class="bg-slate-800/60 p-12 rounded-xl text-center border border-purple-500/20 relative overflow-hidden"><div class="bg-gradient-to-br from-purple-600/10 to-transparent rounded-xl"></div> <div class="relative"><div class="w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-purple-600/10 to-transparent rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div> <h2 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 mb-4">Welcome to Kanbanomaly</h2> <p class="text-slate-400 text-lg mb-6 max-w-md mx-auto">Got a project anomaly? Kanbanomaly will catch it before your coffee gets cold ‚òïÔ∏è</p> <div class="flex items-center justify-center gap-4 text-sm text-slate-500"><div class="flex items-center gap-2"><div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div> <span>Ready to initialize</span></div></div></div></div>'),Gr=A('<div class="flex-1 overflow-y-auto bg-slate-900/50 custom-scrollbar"><main class="p-6 relative"><!></main></div>');function Wr(e){const[t,a]=nt(),r=()=>xe(st,"$selectedProjectId",t);var o=Gr(),s=n(o),c=n(s);{var g=w=>{Kr(w,{})},k=w=>{var h=qr();y(w,h)};$(c,w=>{r()?w(g):w(k,!1)})}l(s),l(o),y(e,o),a()}function Jr(e){const t=e-1;return t*t*t+1}function Jt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Qt(e,{delay:t=0,duration:a=400,easing:r=Jr,x:o=0,y:s=0,opacity:c=0}={}){const g=getComputedStyle(e),k=+g.opacity,w=g.transform==="none"?"":g.transform,h=k*(1-c),[D,v]=Jt(o),[u,_]=Jt(s);return{delay:t,duration:a,easing:r,css:(b,j)=>`
			transform: ${w} translate(${(1-b)*D}${v}, ${(1-b)*u}${_});
			opacity: ${k-h*j}`}}var Qr=(e,t)=>C.remove(i(t).id),Xr=A('<div class="flex justify-end gap-2 px-4 pb-4 border-t border-current/20 pt-3"><button class="px-3 py-1.5 text-xs font-medium bg-white/20 hover:bg-white/30 rounded transition-colors">Confirm</button> <button class="px-3 py-1.5 text-xs font-medium bg-black/20 hover:bg-black/30 rounded transition-colors">Cancel</button></div>'),Yr=A('<div class="h-1 bg-black/20 rounded-b-lg overflow-hidden"><div></div></div>'),Zr=A('<div role="alert"><div class="flex items-start gap-3 p-4"><svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg> <div class="flex-1 min-w-0"><p class="text-sm font-medium break-words"> </p></div> <button class="text-current opacity-70 hover:opacity-100 transition-opacity flex-shrink-0" aria-label="Close notification"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <!> <!></div>'),ei=A('<div class="fixed bottom-4 right-4 z-50 space-y-3 max-w-sm"></div>');function ti(e,t){Qe(t,!0);const[a,r]=nt(),o=()=>xe(ar,"$toasts",a);let s=O(null),c=Aa(new Map);function g(v){switch(v){case"success":return"bg-emerald-800 border-emerald-700 text-emerald-100";case"error":return"bg-red-800 border-red-700 text-red-100";case"warning":return"bg-orange-800 border-orange-700 text-orange-100";case"info":return"bg-blue-800 border-blue-700 text-blue-100";default:return"bg-slate-800 border-slate-700 text-slate-100"}}function k(v){switch(v){case"success":return"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";case"error":return"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z";case"warning":return"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z";case"info":return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z";default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}function w(v){if(f(s,v,!0),!c.has(v)){const u=o().find(_=>_.id===v);if(u&&u.duration>0){const _=u.duration;c.set(v,{pauseTime:Date.now(),remainingDuration:_}),C.pause(v)}}}function h(v){f(s,null);const u=c.get(v);u&&(C.resume(v,u.remainingDuration),c.delete(v))}var D=ei();Se(D,5,o,v=>v.id,(v,u)=>{var _=Zr();let b;var j=n(_),N=n(j),L=n(N);l(N);var E=d(N,2),H=n(E),z=n(H,!0);l(H),l(E);var m=d(E,2);m.__click=[Qr,u],l(j);var M=d(j,2);{var J=I=>{var B=Xr(),R=n(B);R.__click=function(...p){var P;(P=i(u).onConfirm)==null||P.apply(this,p)};var S=d(R,2);S.__click=function(...p){var P;(P=i(u).onCancel)==null||P.apply(this,p)},l(B),y(I,B)};$(M,I=>{i(u).isConfirm&&I(J)})}var K=d(M,2);{var Q=I=>{var B=Yr(),R=n(B);let S;l(B),se(p=>{S=W(R,1,"h-full bg-white/40 rounded-b-lg progress-bar svelte-pujfnb",null,S,p),Zt(R,`animation: shrink ${i(u).duration??""}ms linear forwards;`)},[()=>({paused:i(s)===i(u).id})]),y(I,B)};$(K,I=>{i(u).duration&&i(u).duration>0&&!i(u).isConfirm&&I(Q)})}l(_),se((I,B,R)=>{b=W(_,1,`toast-container border rounded-lg shadow-lg backdrop-blur-sm transition-all duration-300 ${I??""}`,"svelte-pujfnb",b,B),yt(L,"d",R),G(z,i(u).message)},[()=>g(i(u).type),()=>({hovered:i(s)===i(u).id}),()=>k(i(u).type)]),Te("mouseenter",_,()=>w(i(u).id)),Te("mouseleave",_,()=>h(i(u).id)),Gt(1,_,()=>Qt,()=>({x:300,duration:300})),Gt(2,_,()=>Qt,()=>({x:300,duration:i(u).isConfirm?0:300})),y(v,_)}),l(D),y(e,D),Xe(),r()}lt(["click"]);var ai=A('<div class="flex h-screen"><!> <!> <!></div>');function di(e){var t=ai(),a=n(t);Mr(a,{});var r=d(a,2);Wr(r);var o=d(r,2);ti(o,{}),l(t),y(e,t)}export{di as component};
